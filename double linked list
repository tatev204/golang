package main

import (
	"fmt"
)

type DLL interface {
	insertList(val int)
	PrintListMoveForward()
	PrintListMoveBack()
	CountofNodes() int
	NegativeElementsbool() bool
	SumNodes() int
	SumOddIndexes() int
}
type Node struct {
	value int
	next  *Node
	prior *Node
}
type DoubleLinkedList struct {
	root *Node
	tail *Node
}

func (dll *DoubleLinkedList) insertList(val int) {
	if dll.root == nil {
		dll.root = &Node{value: val}
		dll.tail = dll.root
		fmt.Println(dll.root.value)
		return

	}
	current := dll.root
	for current.next != nil {
		current = current.next
	}

	current.next = &Node{value: val}
	current.next.prior = current
	dll.tail = current.next
	fmt.Println(current.next.value)
}

func (dll *DoubleLinkedList) PrintListMoveForward() {
	current := dll.root
	for current != nil {
		fmt.Println(current.value)
		current = current.next
	}
}
func (dll *DoubleLinkedList) PrintListMoveBack() {
	current := dll.tail
	for current != nil {
		fmt.Println(current.value)
		current = current.prior
	}

}
func (dll *DoubleLinkedList) CountofNodes() int {
	count := 0
	current := dll.root
	for current != nil {
		count++
		current = current.next
	}
	return count
}

func (dll *DoubleLinkedList) NegativeElementsbool() bool {
	current := dll.root

	for current != nil {
		if current.value < 0 {
			return true
		}

		current = current.next
	}
	return false
}

func (dll *DoubleLinkedList) SumNodes() int {
	sum := 0
	current := dll.root
	for current != nil {
		sum += current.value
		current = current.next
	}
	return sum
}
func (dll *DoubleLinkedList) SumOddIndexes() int {
	sumodd := 0
	index := 0
	current := dll.root

	for current != nil {
		if index%2 != 0 {
			sumodd += current.value
		}
		index++
		current = current.next
	}
	return sumodd
}

func main() {
	var DoubleLinkedl DLL = &DoubleLinkedList{}

	DoubleLinkedl.insertList(1)
	DoubleLinkedl.insertList(2)

	fmt.Println("\nlist forward")
	DoubleLinkedl.PrintListMoveForward()
	fmt.Println("\nlist backward")
	DoubleLinkedl.PrintListMoveBack()

	fmt.Println("count of nodes՝", DoubleLinkedl.CountofNodes())
	fmt.Println("negativ element՝", DoubleLinkedl.NegativeElementsbool())
	fmt.Println("sum of nodes՝", DoubleLinkedl.SumNodes())
	fmt.Println("sum odd index՝", DoubleLinkedl.SumOddIndexes())

}
